<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/material-search/material-search.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/google-chart-elk/google-chart.html">
<link rel="import" href="../../bower_components/sentiment-d3/sentiment-d3.html">


<dom-module id="dashboard-ftt">

  <style>
    paper-material{
      background: white;
    }

    google-chart {
      margin: 0 auto;
    }

    .chart_container {
      width: 49%;
      margin-bottom: 20px; 
    }

  </style>

  <template>
    <iron-ajax auto
        url="/endpoint.json"
        handle-as="json"
        last-response="{{endpoint}}"></iron-ajax>
    <material-search search-value="{{query}}"></material-search>
    <br>
    <div style="width: 100%; display: inline-block; margin-bottom: 20px;">
      <sentiment-d3
            title="Sentiment"
            icon="trending-up"
            width="1200"></sentiment-d3>
    </div>
    <div style="width: 100%;">
      <div class="chart_container" style="left: 0; float: left">
        <wheel-chart
          title="Wheel Chart Sentiment"
          icon="toll"></wheel-chart>
      </div>
      <div class="chart_container" style="right: 0; float: right">
        <entities-chart
            title="Entities"
            icon="toc"></entities-chart>
      </div>
    </div>
    <div class="chart_container" style="right: 0; float: right">
      <google-chart
          query="{{query}}"
          index="sentiment"
          subindex="tweet"
          field="sentiment"
          fields='["time_zone","place.name","sentiment"]'
          host='{{endpoint}}'
          id='pie-chart1'
          extra-id='pie-chart1'
          type='pie'
          filters="{{filters}}"
          icon='face'
          param="{{param}}"
          options='{"title": "Count of tweets with different sentiments"}'
          cols='[{"label": "Sentiment", "type": "string"},{"label": "Count", "type": "number"}]'
          rows='[ ["Jan", 31],["Feb", 28],["Mar", 31],["Apr", 30],["May", 31],["Jun", 30] ]'>
        </google-chart>
    </div>  
    <div style="width: 100%;">
      <div class="chart_container" style="left: 0; float: left">
        <chernoff-faces 
            width="100"
            brand="Amazon"
            hl-e="0.1"
            p-e="0.5"
            a-e="0.5"
            c-m="0.1"></chernoff-faces>
      </div>
    </div>
  </template>

  <script>
    Polymer({
      is: 'dashboard-ftt'
    });
  </script>

</dom-module>
