<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/material-search/material-search.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/google-chart-elk/google-chart.html">
<link rel="import" href="../../bower_components/sentiment-d3/sentiment-d3.html">


<dom-module id="dashboard-ftt">

  <style>
    paper-material{
      background: white;
    }

    google-chart {
      margin: 0 auto;
    }

    .chart_container {
      width: 49%;
      margin-bottom: 20px; 
    }

    .footer {
      clear: both;
      height: 2em;
      margin-top: -2em;
      display: flex;
      justify-content: center
    }

  </style>

  <template>
    <iron-ajax auto
        url="/endpoint.json"
        handle-as="json"
        last-response="{{endpoint}}"></iron-ajax>
    <material-search search-value="{{query}}"></material-search>
    <br>
    <div style="width: 100%; display: inline-block; margin-bottom: 20px;">
      <sentiment-d3
            title="Sentiment"
            icon="trending-up"
            width="900"
            query="{{query}}"
            index="ftten"
            subindex="entities"
            field="name"
            fields='["user", "sentiment", "name", "text"]'
            host='{{endpoint}}'
            param="{{param}}"
            filters="{{filters}}"></sentiment-d3>
    </div>
    <div style="width: 100%;">
      <div class="chart_container" style="left: 0; float: left">
        <chernoff-faces 
            query="{{query}}"
            index="ftten"
            subindex="entities"
            field=""
            fields='["user", "sentiment", "name", "text"]'
            filters="{{filters}}"
            param="{{param}}"
            host='{{endpoint}}'></chernoff-faces>
      </div>
      <div class="chart_container" style="right: 0; float: right">
        <entities-chart
            query="{{query}}"
            index="ftten"
            subindex="entities"
            field="name"
            fields='["user", "sentiment", "name", "text"]'
            host='{{endpoint}}'
            title="Entities"
            icon="toc"
            entities="{{entities}}"
            param="{{param}}"
            id="entity-chart"
            filters="{{filters}}"></entities-chart>
      </div>
    </div>
    <div style="clear: both; width: 100%"></div>
    <div style="width: 100%;">
      <div class="chart_container" style="left: 0; float: left">
        <wheel-chart
          title="Wheel Chart Sentiment"
          icon="toll"
          query="{{query}}"
          index="ftten"
          subindex="entities"
          field=""
          fields='["user", "sentiment", "name", "text"]'
          filters="{{filters}}"
          param="{{param}}"
          host='{{endpoint}}'></wheel-chart>
      </div>
      <div class="chart_container" style="right: 0; float: right">
        <google-chart
            query="{{query}}"
            index="ftten"
            subindex="entities"
            field="sentiment"
            fields='["user", "sentiment", "name", "text"]'
            host='{{endpoint}}'
            id='pie-chart1'
            extra-id='pie-chart1'
            type='pie'
            filters="{{filters}}"
            icon='face'
            param="{{param}}"
            options='{"title": "Count of tweets with different sentiments"}'
            cols='[{"label": "Sentiment", "type": "string"},{"label": "Count", "type": "number"}]'
            rows='[ ["Jan", 31],["Feb", 28],["Mar", 31],["Apr", 30],["May", 31],["Jun", 30] ]'>
          </google-chart>
      </div>  
    </div>
    <div style="width: 100%;">
      <div class="chart_container" style="left: 0; float: right">
        <tweet-chart
            query="{{query}}"
            index="ftten"
            subindex="entities"
            field="text"
            fields='["user", "sentiment", "name", "text"]'
            host='{{endpoint}}'
            id='pie-chart1'
            extra-id='pie-chart1'
            type='pie'
            filters="{{filters}}"
            icon='face'
            param="{{param}}"></tweet-chart>
      </div>
    </div>
      <div class="footer">
        <div style="display:inline">
          <!--<img src="img/logo2.png" style="float: right;"/>-->
          <a href="http://gsi.dit.upm.es/" target="_blank">
            <img height="100px" src="http://demos.gsi.dit.upm.es/ftt/img/logo_gsi.png" alt="GSI-UPM">
            <!--
              <div class="gsiLogo" title="Grupo de Sistemas Inteligentes" ></div>
              -->
          </a>
          <img src="http://demos.gsi.dit.upm.es/ftt/img/logoAvanza.png" alt="Plan Avanza 2">
          <a href="http://www.paradigmatecnologico.com/">
          <img src="http://demos.gsi.dit.upm.es/ftt/img/paradigma.jpg" alt="Paradigma TecnolÃ³gico">
          </a>
        </div>
      </div>
  </template>

  <script>
    Polymer({
      is: 'dashboard-ftt',
      properties: {

      },

      ready: function () {
        
      }
    });
  </script>

</dom-module>
